<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gemini Advanced Prompt</title>
	
    <style>
        body {
            padding: 20px;
            background-color: #b3e8f8;
        }
        .chat-container { background-color: #e9ece3; border: 1px solid #ccc;
             height: 400px; width: 600px;
              overflow: auto; padding: 10px;
               position: absolute;
                top: 50%; left: 50%;
                 transform: translate(-50%, -50%); 
                }
        .form-container {
            margin-top: 20px;
        }
        .form-group {
            margin-bottom: 10px;
            
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }
        input[type="text"] {
            width: 620px;;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            overflow: auto; padding: 10px;
               position: absolute;
                top: 78%; left: 50%;
                 transform: translate(-50%, -50%); 
                 
        }
        .btn {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 10px 16px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 4px;
        }
        .btn-primary {
            background-color: #007bff;
            position: absolute;
                top: 85%; left: 50%;
                 transform: translate(-50%, -50%);
        }
        .btn-primary:hover {
            background-color: #0069d9;
        }
        .code-container {
    background-color: #000;
    color: #fff;
    padding: 10px;
    margin-bottom: 10px;
    font-family: monospace;
}
    pre {
            background-color: #333;
            color: #fff;
            padding: 10px;
            overflow-x: auto;
            position: relative;
        }
         /* Estilo para el bot贸n de copiar */
         .copy-button {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: #007bff;
            color: #fff;
            padding: 5px 10px;
            font-size: 12px;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }
        .message-text {
    background-color: #fff;
    color: #000;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 4px;
}

.message-code {
    background-color: #a8d8ff;
    color: #000;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 4px;
    font-family: monospace;
}

h1 {
    text-align: center;
}
    </style>
	
</head>
<body>
    <h1>Gemini Advanced Prompt</h1>
    <div class="chat-container">
        <div id="chat"></div>
    </div>
    <div class="form-container">
        <form id="form">
            <div class="form-group">
             
                <input type="text" id="texto" name="texto" required placeholder=" Write a indication:">
            </div>
            <button type="submit" class="btn btn-primary">Enviar</button>
        </form>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script>
   // Funci贸n para agregar un mensaje al chat
function agregarMensaje(role, content) {
    const chat = document.getElementById('chat');
    const mensaje = document.createElement('div');
    mensaje.classList.add(role === 'Indication' ? 'message-text' : 'message-code');
    mensaje.innerHTML = '<strong>' + role + ':</strong> ';


        mensaje.textContent += content;
    

    mensaje.appendChild(document.createElement('br'));
    chat.appendChild(mensaje);
    chat.scrollTop = chat.scrollHeight;
}



// Funci贸n para copiar el contenido del c贸digo
function copiarCodigo(button) {
    const codeElement = button.parentNode.querySelector('code');
    const codeText = codeElement.innerText;

    const textarea = document.createElement('textarea');
    textarea.value = codeText;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);

    button.innerText = 'Copiado';
    button.disabled = true;
}

 


        
        // Manejador del evento submit del formulario
        const form = document.getElementById('form');
        form.addEventListener('submit', function(event) {
            event.preventDefault();
            const texto = document.getElementById('texto').value;
            agregarMensaje('Indication', texto);
            document.getElementById('texto').value = '';
            fetch('/completar-texto', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ texto: texto })
            })
            .then(response => response.json())
            .then(data => {
                const mensajes = data.mensajes;
                mensajes.forEach(function(mensaje) {
                    agregarMensaje(mensaje.role, mensaje.content);
                });
            });
        });

        
    </script>
</body>
</html>
